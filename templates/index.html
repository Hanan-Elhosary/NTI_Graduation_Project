<!DOCTYPE html>
<html>
<head>
    <title>CSV Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Upload CSV File</h1>
    <form action="/upload" method="post" enctype="multipart/form-data">
    <input type="file" name="file">
    <button type="submit">Upload</button>
</form>

    {% if columns %}
        <h2>Dataset Info</h2>
        <p><strong>Rows:</strong> {{ rows }}</p>
        <p><strong>Columns:</strong> {{ cols }}</p>
        <p><strong>Column Names:</strong> {{ columns | join(', ') }}</p>

        <h2>Visualize Column</h2>
        <form action="/plot" method="post">
            <label for="column">Select a column:</label>
            <select name="column" id="column">
                {% for col in columns %}
                    <option value="{{ col }}">{{ col }}</option>
                {% endfor %}
            </select>
            <button type="submit">Plot</button>
        </form>
    {% endif %}

    {% if plot_html %}
        <h2>Plot</h2>
        {{ plot_html | safe }}
    {% endif %}
</body>
</html>
